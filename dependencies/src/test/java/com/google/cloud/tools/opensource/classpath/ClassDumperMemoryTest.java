/*
 * Copyright 2019 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package com.google.cloud.tools.opensource.classpath;

import java.net.MalformedURLException;
import java.net.URI;
import java.net.URL;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import org.junit.Test;

public class ClassDumperMemoryTest {

  String[] jars =
      new String[] {
        "/usr/local/google/home/suztomo/spring-cloud-gcp/spring-cloud-gcp-autoconfigure/target/spring-cloud-gcp-autoconfigure-1.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/2.2.0.BUILD-SNAPSHOT/spring-boot-autoconfigure-2.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/spring-cloud-gcp/spring-cloud-gcp-core/target/spring-cloud-gcp-core-1.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/boot/spring-boot-configuration-processor/2.2.0.BUILD-SNAPSHOT/spring-boot-configuration-processor-2.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/boot/spring-boot-autoconfigure-processor/2.2.0.BUILD-SNAPSHOT/spring-boot-autoconfigure-processor-2.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/spring-cloud-gcp/spring-cloud-gcp-logging/target/spring-cloud-gcp-logging-1.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/javax/servlet/javax.servlet-api/4.0.1/javax.servlet-api-4.0.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/spring-webmvc/5.2.0.BUILD-SNAPSHOT/spring-webmvc-5.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/spring-cloud-gcp/spring-cloud-gcp-pubsub/target/spring-cloud-gcp-pubsub-1.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/integration/spring-integration-core/5.2.0.M2/spring-integration-core-5.2.0.M2.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/projectreactor/reactor-core/3.3.0.BUILD-SNAPSHOT/reactor-core-3.3.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/spring-jdbc/5.2.0.BUILD-SNAPSHOT/spring-jdbc-5.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/cloud/sql/mysql-socket-factory/1.0.12/mysql-socket-factory-1.0.12.jar",
        "/usr/local/google/home/suztomo/.m2/repository/mysql/mysql-connector-java/8.0.16/mysql-connector-java-8.0.16.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/cloud/sql/postgres-socket-factory/1.0.12/postgres-socket-factory-1.0.12.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/postgresql/postgresql/42.2.5/postgresql-42.2.5.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/zaxxer/HikariCP/3.3.1/HikariCP-3.3.1.jar",
        "/usr/local/google/home/suztomo/spring-cloud-gcp/spring-cloud-gcp-storage/target/spring-cloud-gcp-storage-1.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/boot/spring-boot-starter-web/2.2.0.BUILD-SNAPSHOT/spring-boot-starter-web-2.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/spring-cloud-gcp/spring-cloud-gcp-data-datastore/target/spring-cloud-gcp-data-datastore-1.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/boot/spring-boot-actuator/2.2.0.BUILD-SNAPSHOT/spring-boot-actuator-2.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/spring-cloud-gcp/spring-cloud-gcp-data-spanner/target/spring-cloud-gcp-data-spanner-1.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/data/spring-data-rest-webmvc/3.2.0.BUILD-SNAPSHOT/spring-data-rest-webmvc-3.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/cloud/spring-cloud-sleuth-core/2.2.0.BUILD-SNAPSHOT/spring-cloud-sleuth-core-2.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/zipkin/gcp/zipkin-sender-stackdriver/0.9.0/zipkin-sender-stackdriver-0.9.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/aspectj/aspectjweaver/1.9.4/aspectjweaver-1.9.4.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/zipkin/gcp/brave-propagation-stackdriver/0.9.0/brave-propagation-stackdriver-0.9.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/cloud/google-cloud-vision/1.66.0/google-cloud-vision-1.66.0.jar",
        "/usr/local/google/home/suztomo/spring-cloud-gcp/spring-cloud-gcp-vision/target/spring-cloud-gcp-vision-1.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/cloud/spring-cloud-context/2.2.0.BUILD-SNAPSHOT/spring-cloud-context-2.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/spring-cloud-gcp/spring-cloud-gcp-security-iap/target/spring-cloud-gcp-security-iap-1.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/security/spring-security-config/5.2.0.BUILD-SNAPSHOT/spring-security-config-5.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/security/spring-security-oauth2-resource-server/5.2.0.BUILD-SNAPSHOT/spring-security-oauth2-resource-server-5.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/boot/spring-boot-starter-actuator/2.2.0.BUILD-SNAPSHOT/spring-boot-starter-actuator-2.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/commons-io/commons-io/2.5/commons-io-2.5.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/codehaus/janino/janino/3.0.12/janino-3.0.12.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/awaitility/awaitility/3.1.2/awaitility-3.1.2.jar",
        "/usr/local/google/home/suztomo/.m2/repository/junit/junit/4.12/junit-4.12.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/slf4j/slf4j-api/1.7.26/slf4j-api-1.7.26.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/mockito/mockito-core/2.27.0/mockito-core-2.27.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/boot/spring-boot-starter-test/2.2.0.BUILD-SNAPSHOT/spring-boot-starter-test-2.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/boot/spring-boot/2.2.0.BUILD-SNAPSHOT/spring-boot-2.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/cloud/google-cloud-core/1.66.0/google-cloud-core-1.66.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/spring-core/5.2.0.BUILD-SNAPSHOT/spring-core-5.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/spring-context/5.2.0.BUILD-SNAPSHOT/spring-context-5.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/ch/qos/logback/contrib/logback-json-classic/0.1.5/logback-json-classic-0.1.5.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/cloud/google-cloud-logging-logback/0.84.0-alpha/google-cloud-logging-logback-0.84.0-alpha.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/spring-aop/5.2.0.BUILD-SNAPSHOT/spring-aop-5.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/spring-beans/5.2.0.BUILD-SNAPSHOT/spring-beans-5.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/spring-expression/5.2.0.BUILD-SNAPSHOT/spring-expression-5.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/spring-web/5.2.0.BUILD-SNAPSHOT/spring-web-5.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/cloud/google-cloud-pubsub/1.66.0/google-cloud-pubsub-1.66.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/spring-messaging/5.2.0.BUILD-SNAPSHOT/spring-messaging-5.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/spring-tx/5.2.0.BUILD-SNAPSHOT/spring-tx-5.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/retry/spring-retry/1.2.4.RELEASE/spring-retry-1.2.4.RELEASE.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/reactivestreams/reactive-streams/1.0.2/reactive-streams-1.0.2.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/cloud/sql/jdbc-socket-factory-core/1.0.12/jdbc-socket-factory-core-1.0.12.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/github/jnr/jnr-unixsocket/0.21/jnr-unixsocket-0.21.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/ow2/asm/asm-util/7.0/asm-util-7.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/cloud/google-cloud-storage/1.66.0/google-cloud-storage-1.66.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/boot/spring-boot-starter/2.2.0.BUILD-SNAPSHOT/spring-boot-starter-2.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/boot/spring-boot-starter-json/2.2.0.BUILD-SNAPSHOT/spring-boot-starter-json-2.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/2.2.0.BUILD-SNAPSHOT/spring-boot-starter-tomcat-2.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/boot/spring-boot-starter-validation/2.2.0.BUILD-SNAPSHOT/spring-boot-starter-validation-2.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/cloud/google-cloud-datastore/1.66.0/google-cloud-datastore-1.66.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/data/spring-data-commons/2.2.0.BUILD-SNAPSHOT/spring-data-commons-2.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.9.9/jackson-datatype-jsr310-2.9.9.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/cloud/google-cloud-spanner/1.11.0/google-cloud-spanner-1.11.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/data/spring-data-rest-core/3.2.0.BUILD-SNAPSHOT/spring-data-rest-core-3.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.9.9/jackson-databind-2.9.9.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.9.0/jackson-annotations-2.9.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/cloud/spring-cloud-commons/2.2.0.BUILD-SNAPSHOT/spring-cloud-commons-2.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/aspectj/aspectjrt/1.9.4/aspectjrt-1.9.4.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/zipkin/brave/brave/5.6.1/brave-5.6.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/zipkin/brave/brave-context-log4j2/5.6.1/brave-context-log4j2-5.6.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/zipkin/brave/brave-instrumentation-spring-web/5.6.1/brave-instrumentation-spring-web-5.6.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/zipkin/brave/brave-instrumentation-spring-rabbit/5.6.1/brave-instrumentation-spring-rabbit-5.6.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/zipkin/brave/brave-instrumentation-kafka-clients/5.6.1/brave-instrumentation-kafka-clients-5.6.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/zipkin/brave/brave-instrumentation-httpclient/5.6.1/brave-instrumentation-httpclient-5.6.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/zipkin/brave/brave-instrumentation-httpasyncclient/5.6.1/brave-instrumentation-httpasyncclient-5.6.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/zipkin/brave/brave-instrumentation-spring-webmvc/5.6.1/brave-instrumentation-spring-webmvc-5.6.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/zipkin/brave/brave-instrumentation-jms/5.6.1/brave-instrumentation-jms-5.6.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/zipkin/gcp/zipkin-translation-stackdriver/0.9.0/zipkin-translation-stackdriver-0.9.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/zipkin/reporter2/zipkin-reporter/2.7.13/zipkin-reporter-2.7.13.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/grpc/grpc-google-devtools-cloudtrace-v1/0.1.1/grpc-google-devtools-cloudtrace-v1-0.1.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/zipkin/zipkin2/zipkin/2.11.11/zipkin-2.11.11-tests.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/zipkin/zipkin2/zipkin/2.11.11/zipkin-2.11.11.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/cloud/google-cloud-core-grpc/1.66.0/google-cloud-core-grpc-1.66.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/grpc/proto-google-cloud-vision-v1/1.48.0/proto-google-cloud-vision-v1-1.48.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/grpc/proto-google-cloud-vision-v1p1beta1/0.49.0/proto-google-cloud-vision-v1p1beta1-0.49.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/grpc/proto-google-cloud-vision-v1p2beta1/1.48.0/proto-google-cloud-vision-v1p2beta1-1.48.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/grpc/proto-google-cloud-vision-v1p3beta1/0.49.0/proto-google-cloud-vision-v1p3beta1-0.49.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/grpc/proto-google-cloud-vision-v1p4beta1/0.49.0/proto-google-cloud-vision-v1p4beta1-0.49.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/grpc/grpc-netty-shaded/1.18.0/grpc-netty-shaded-1.18.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/grpc/grpc-stub/1.18.0/grpc-stub-1.18.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/grpc/grpc-auth/1.18.0/grpc-auth-1.18.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/javax/annotation/javax.annotation-api/1.3.2/javax.annotation-api-1.3.2.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/security/spring-security-crypto/5.2.0.BUILD-SNAPSHOT/spring-security-crypto-5.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/security/spring-security-oauth2-core/5.2.0.BUILD-SNAPSHOT/spring-security-oauth2-core-5.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/security/spring-security-oauth2-jose/5.2.0.BUILD-SNAPSHOT/spring-security-oauth2-jose-5.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/cloud/google-cloud-resourcemanager/0.84.0-alpha/google-cloud-resourcemanager-0.84.0-alpha.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/security/spring-security-core/5.2.0.BUILD-SNAPSHOT/spring-security-core-5.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/security/spring-security-web/5.2.0.BUILD-SNAPSHOT/spring-security-web-5.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/boot/spring-boot-actuator-autoconfigure/2.2.0.BUILD-SNAPSHOT/spring-boot-actuator-autoconfigure-2.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/micrometer/micrometer-core/1.1.4/micrometer-core-1.1.4.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/codehaus/janino/commons-compiler/3.0.12/commons-compiler-3.0.12.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/hamcrest/hamcrest-library/2.1/hamcrest-library-2.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/hamcrest/hamcrest-core/2.1/hamcrest-core-2.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/objenesis/objenesis/2.6/objenesis-2.6.jar",
        "/usr/local/google/home/suztomo/.m2/repository/net/bytebuddy/byte-buddy/1.9.12/byte-buddy-1.9.12.jar",
        "/usr/local/google/home/suztomo/.m2/repository/net/bytebuddy/byte-buddy-agent/1.9.12/byte-buddy-agent-1.9.12.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/boot/spring-boot-test/2.2.0.BUILD-SNAPSHOT/spring-boot-test-2.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/boot/spring-boot-test-autoconfigure/2.2.0.BUILD-SNAPSHOT/spring-boot-test-autoconfigure-2.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/jayway/jsonpath/json-path/2.4.0/json-path-2.4.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/2.3.2/jakarta.xml.bind-api-2.3.2.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/junit/jupiter/junit-jupiter/5.4.2/junit-jupiter-5.4.2.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/junit/vintage/junit-vintage-engine/5.4.2/junit-vintage-engine-5.4.2.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/mockito/mockito-junit-jupiter/2.27.0/mockito-junit-jupiter-2.27.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/assertj/assertj-core/3.12.2/assertj-core-3.12.2.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/hamcrest/hamcrest/2.1/hamcrest-2.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/skyscreamer/jsonassert/1.5.0/jsonassert-1.5.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/spring-test/5.2.0.BUILD-SNAPSHOT/spring-test-5.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/xmlunit/xmlunit-core/2.6.2/xmlunit-core-2.6.2.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/guava/guava/26.0-android/guava-26.0-android.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/http-client/google-http-client/1.28.0/google-http-client-1.28.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/api-common/1.7.0/api-common-1.7.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/gax/1.42.0/gax-1.42.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/protobuf/protobuf-java-util/3.6.1/protobuf-java-util-3.6.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/grpc/proto-google-common-protos/1.14.0/proto-google-common-protos-1.14.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/grpc/proto-google-iam-v1/0.12.0/proto-google-iam-v1-0.12.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/spring-jcl/5.2.0.BUILD-SNAPSHOT/spring-jcl-5.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar",
        "/usr/local/google/home/suztomo/.m2/repository/ch/qos/logback/contrib/logback-json-core/0.1.5/logback-json-core-0.1.5.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/cloud/google-cloud-logging/1.66.0/google-cloud-logging-1.66.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/grpc/proto-google-cloud-pubsub-v1/1.48.0/proto-google-cloud-pubsub-v1-1.48.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/grpc/grpc-google-cloud-pubsub-v1/1.48.0/grpc-google-cloud-pubsub-v1-1.48.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/apis/google-api-services-sqladmin/v1beta4-rev56-1.23.0/google-api-services-sqladmin-v1beta4-rev56-1.23.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/github/jnr/jnr-ffi/2.1.9/jnr-ffi-2.1.9.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/github/jnr/jnr-constants/0.9.11/jnr-constants-0.9.11.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/github/jnr/jnr-enxio/0.19/jnr-enxio-0.19.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/github/jnr/jnr-posix/3.0.47/jnr-posix-3.0.47.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/ow2/asm/asm/7.0/asm-7.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/ow2/asm/asm-tree/7.0/asm-tree-7.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/ow2/asm/asm-analysis/7.0/asm-analysis-7.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/cloud/google-cloud-core-http/1.66.0/google-cloud-core-http-1.66.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/apis/google-api-services-storage/v1-rev20181109-1.27.0/google-api-services-storage-v1-rev20181109-1.27.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/http-client/google-http-client-apache/2.0.0/google-http-client-apache-2.0.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/boot/spring-boot-starter-logging/2.2.0.BUILD-SNAPSHOT/spring-boot-starter-logging-2.2.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.4/jakarta.annotation-api-1.3.4.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/yaml/snakeyaml/1.24/snakeyaml-1.24.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.9.9/jackson-datatype-jdk8-2.9.9.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.9.9/jackson-module-parameter-names-2.9.9.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/9.0.20/tomcat-embed-core-9.0.20.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/9.0.20/tomcat-embed-el-9.0.20.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/apache/tomcat/embed/tomcat-embed-websocket/9.0.20/tomcat-embed-websocket-9.0.20.jar",
        "/usr/local/google/home/suztomo/.m2/repository/jakarta/validation/jakarta.validation-api/2.0.1/jakarta.validation-api-2.0.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/hibernate/validator/hibernate-validator/6.0.16.Final/hibernate-validator-6.0.16.Final.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/grpc/proto-google-cloud-datastore-v1/0.49.0/proto-google-cloud-datastore-v1-0.49.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/cloud/datastore/datastore-v1-proto-client/1.6.0/datastore-v1-proto-client-1.6.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/grpc/grpc-core/1.18.0/grpc-core-1.18.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.9.9/jackson-core-2.9.9.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/gax-grpc/1.42.0/gax-grpc-1.42.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/grpc/proto-google-cloud-spanner-v1/1.11.0/proto-google-cloud-spanner-v1-1.11.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/grpc/proto-google-cloud-spanner-admin-database-v1/1.11.0/proto-google-cloud-spanner-admin-database-v1-1.11.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/grpc/proto-google-cloud-spanner-admin-instance-v1/1.11.0/proto-google-cloud-spanner-admin-instance-v1-1.11.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/grpc/grpc-google-cloud-spanner-v1/1.11.0/grpc-google-cloud-spanner-v1-1.11.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/grpc/grpc-google-cloud-spanner-admin-database-v1/1.11.0/grpc-google-cloud-spanner-admin-database-v1-1.11.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/grpc/grpc-google-cloud-spanner-admin-instance-v1/1.11.0/grpc-google-cloud-spanner-admin-instance-v1-1.11.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/grpc/grpc-google-common-protos/1.14.0/grpc-google-common-protos-1.14.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/opencensus/opencensus-api/0.18.0/opencensus-api-0.18.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/opencensus/opencensus-contrib-grpc-util/0.18.0/opencensus-contrib-grpc-util-0.18.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/hateoas/spring-hateoas/1.0.0.BUILD-SNAPSHOT/spring-hateoas-1.0.0.BUILD-SNAPSHOT.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/springframework/plugin/spring-plugin-core/2.0.0.M1/spring-plugin-core-2.0.0.M1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/atteo/evo-inflector/1.2.2/evo-inflector-1.2.2.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/zipkin/brave/brave-instrumentation-http/5.6.1/brave-instrumentation-http-5.6.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/zipkin/brave/brave-instrumentation-servlet/5.6.1/brave-instrumentation-servlet-5.6.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/auth/google-auth-library-credentials/0.13.0/google-auth-library-credentials-0.13.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/protobuf/protobuf-java/3.6.1/protobuf-java-3.6.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/grpc/grpc-protobuf/1.18.0/grpc-protobuf-1.18.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/grpc/grpc-context/1.18.0/grpc-context-1.18.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/nimbusds/nimbus-jose-jwt/7.0.1/nimbus-jose-jwt-7.0.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/apis/google-api-services-cloudresourcemanager/v1-rev20181015-1.27.0/google-api-services-cloudresourcemanager-v1-rev20181015-1.27.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/hdrhistogram/HdrHistogram/2.1.9/HdrHistogram-2.1.9.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/latencyutils/LatencyUtils/2.0.3/LatencyUtils-2.0.3.jar",
        "/usr/local/google/home/suztomo/.m2/repository/net/minidev/json-smart/2.3/json-smart-2.3.jar",
        "/usr/local/google/home/suztomo/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.1/jakarta.activation-api-1.2.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.4.2/junit-jupiter-api-5.4.2.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.4.2/junit-jupiter-params-5.4.2.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.4.2/junit-jupiter-engine-5.4.2.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/apiguardian/apiguardian-api/1.0.0/apiguardian-api-1.0.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/junit/platform/junit-platform-engine/1.4.2/junit-platform-engine-1.4.2.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/checkerframework/checker-compat-qual/2.5.2/checker-compat-qual-2.5.2.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/errorprone/error_prone_annotations/2.1.3/error_prone_annotations-2.1.3.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/j2objc/j2objc-annotations/1.1/j2objc-annotations-1.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/codehaus/mojo/animal-sniffer-annotations/1.14/animal-sniffer-annotations-1.14.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/opencensus/opencensus-contrib-http-util/0.18.0/opencensus-contrib-http-util-0.18.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/threeten/threetenbp/1.3.3/threetenbp-1.3.3.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/auth/google-auth-library-oauth2-http/0.13.0/google-auth-library-oauth2-http-0.13.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/code/gson/gson/2.8.5/gson-2.8.5.jar",
        "/usr/local/google/home/suztomo/.m2/repository/ch/qos/logback/logback-core/1.2.3/logback-core-1.2.3.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/grpc/proto-google-cloud-logging-v2/0.49.0/proto-google-cloud-logging-v2-0.49.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api-client/google-api-client/1.23.0/google-api-client-1.23.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/github/jnr/jffi/1.2.17/jffi-1.2.17.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/github/jnr/jffi/1.2.16/jffi-1.2.16-native.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/ow2/asm/asm-commons/5.0.3/asm-commons-5.0.3.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/github/jnr/jnr-a64asm/1.0.0/jnr-a64asm-1.0.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/github/jnr/jnr-x86asm/1.0.2/jnr-x86asm-1.0.2.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/http-client/google-http-client-appengine/1.28.0/google-http-client-appengine-1.28.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/api/gax-httpjson/0.59.0/gax-httpjson-0.59.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/apache/httpcomponents/httpclient/4.5.8/httpclient-4.5.8.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.11.2/log4j-to-slf4j-2.11.2.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/slf4j/jul-to-slf4j/1.7.26/jul-to-slf4j-1.7.26.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/jboss/logging/jboss-logging/3.4.0.Final/jboss-logging-3.4.0.Final.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/fasterxml/classmate/1.5.0/classmate-1.5.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/http-client/google-http-client-protobuf/1.20.0/google-http-client-protobuf-1.20.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/http-client/google-http-client-jackson/1.20.0/google-http-client-jackson-1.20.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/oauth-client/google-oauth-client/1.20.0/google-oauth-client-1.20.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/opencensus/opencensus-contrib-grpc-metrics/0.18.0/opencensus-contrib-grpc-metrics-0.18.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/grpc/grpc-alts/1.18.0/grpc-alts-1.18.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/grpc/grpc-protobuf-lite/1.18.0/grpc-protobuf-lite-1.18.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/github/stephenc/jcip/jcip-annotations/1.0-1/jcip-annotations-1.0-1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/net/minidev/accessors-smart/1.2/accessors-smart-1.2.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/opentest4j/opentest4j/1.1.1/opentest4j-1.1.1.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/junit/platform/junit-platform-commons/1.4.2/junit-platform-commons-1.4.2.jar",
        "/usr/local/google/home/suztomo/.m2/repository/com/google/http-client/google-http-client-jackson2/1.28.0/google-http-client-jackson2-1.28.0.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/apache/httpcomponents/httpcore/4.4.11/httpcore-4.4.11.jar",
        "/usr/local/google/home/suztomo/.m2/repository/commons-codec/commons-codec/1.12/commons-codec-1.12.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/apache/logging/log4j/log4j-api/2.11.2/log4j-api-2.11.2.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/codehaus/jackson/jackson-core-asl/1.9.11/jackson-core-asl-1.9.11.jar",
        "/usr/local/google/home/suztomo/.m2/repository/org/apache/commons/commons-lang3/3.9/commons-lang3-3.9.jar",
        "/usr/local/google/home/suztomo/.m2/repository/io/grpc/grpc-grpclb/1.18.0/grpc-grpclb-1.18.0.jar"
      };

  @Test
  public void testMemoryUsage() throws Exception {
    List<Path> paths = new ArrayList<>();
    for (String jar : jars) {
      paths.add(Paths.get(new URI("file://" + jar)).toAbsolutePath());
    }

    LinkageChecker linkageChecker = LinkageChecker.create(paths, paths);
    linkageChecker.findSymbolProblems();
  }
}
